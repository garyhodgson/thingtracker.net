<!DOCTYPE html>
  <head>
    <title>Thing Tracker Network - Specification</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />

    <link href="css/bootstrap/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap/bootstrap-responsive.css" rel="stylesheet">
    <link href="css/thingtracker.css" rel="stylesheet" media="screen" type="text/css">

  </head>
  <body data-spy="scroll" data-target="#navbar" data-offset="50">


    <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/thingtracker.net/">Thing Tracker Network</a>
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#home">Home</a></li>
              <li><a href="#definitions">Definitions</a></li>
              <li><a href="#structure">Structure</a></li>
              <li><a href="#example">Example</a></li>
              <li><a href="#policy">Policy</a></li>
              <li><a href="#processes">Process</a></li>
            </ul>
            <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Jump To <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="/thingtracker.net/">Home</a></li>
                  <li class="nav-header">Info</li>
                  <li><a href="/thingtracker.net/specification.html">Technical Spec</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Technical</li>
                  <li><a href="/thingtracker.net/tools/validator">Tracker Validator</a></li>
                  <li><a href="/thingtracker.net/tools/viewer">Tracker Viewer</a></li>
                  <li><a href="/thingtracker.net/tools/thingmaker">BitTorrent ThingMaker</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>


    <div class="container section" id="home">

      <h1>Thing Tracker Network Specification <span class="muted">[draft]</span></h1>

      <p>The following is an initial draft version of the Thing Tracker Network specification.  It is meant as a starting point for further discussion.</p>

      <p><strong>For the current work in progress version please visit the <a href="http://bit.ly/ttn-github">github project</a>.</strong></p>

      <hr>

      <div id="definitions" class="section">
        <h2>Definitions</h2>

        <dl class="dl-horizontal">
          <dt>Thing</dt>
          <dd>An object or project (aka. a Physible) which is represented online through a webpage, e.g. 3D printer design, github project, etc.</dd>
          <dt>Tracker</dt>
          <dd>A json document available somewhere on the web which complies with the Thing Tracker Network Specification.</dd>
          <dt>Tracker Service</dt>
          <dd>A website, application, or web service which interacts with Trackers. For example a service may:
            <ul>
              <li>Format the tracker for easier browsing.</li>
              <li>Provide search capabilities.</li>
              <li>Allow submission and management of Things to the tracker.</li>
            </ul>
          </dd>
        </dl>
      </div>

      <hr>

      <div id="structure" class="row-fluid section">
        <h2>Structure</h2>
        <div class="span7">
          <p>The json schema shown to the right shows a subset of the structure of a valid tracker document (shown in <a href="https://github.com/molnarg/js-schema">js-schema</a> format for conciseness).  The following table summarises the key aspects.</p>
          <br>
            <table class="table table-condensed">
              <tbody>
                <tr>
                  <td rowspan="4">The tracker</td>
                  <td><strong>may not</strong> be empty.</td>
                  <td><small>So as to recognise whether a tracker has been correctly loaded.</small></td>
                </tr>
                <tr>
                  <td><strong>must</strong> contain an attribute with the name "id" and type of String.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td><strong>must</strong> be an object</td>
                  <td><small>As opposed to an array.</small></td>
                </tr>
                <tr>
                  <td><strong>must</strong> contain an attribute with the name "things" and type of Array</td>
                  <td><small>Subsequently referred to as a "things array".</small></td>
                </tr>
                <tr>
                  <td><strong>may</strong> contain an attribute with the name "trackers" and type of Array </td>
                  <td><small>Subsequently referred to as a "trackers array".</small></td>
                </tr>
                <tr>
                  <td>The things array</td>
                  <td><strong>may</strong> contain zero or more elements.</td>
                  <td><small>An element is subsequently refererred to as a "thing element".</small></td>
                </tr>
                <tr>
                  <td>The trackers array</td>
                  <td><strong>may</strong> contain zero or more elements.</td>
                  <td><small>An element is subsequently refererred to as a "child-tracker element".</small></td>
                </tr>
                <tr>
                  <td rowspan="6">A thing element</td>
                  <td><strong>must</strong> contain an attribute with the name "id" and type of String.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td><strong>must</strong> contain an attribute with the name "title" and type of String.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td><strong>may</strong> contain an attribute with the name "URL" and type of String.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td><strong>may</strong> contain an attribute with the name "license" and type of String.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td><strong>may</strong> contain an attribute with the name "tags" and type of Array.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td><strong>may</strong> contain an attribute with the name "thumbnailURL" and type of String.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td><strong>may</strong> contain an attribute with the name "description" and type of String.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td>A URL attribute</td>
                  <td><strong>should</strong> be a valid Uniform Resource Locator.</td>
                  <td><small></small></td>
                </tr>
                <tr>
                  <td>A tags attribute</td>
                  <td><strong>may</strong> contain zero or more elements of type String.</td>
                  <td><small></small></td>
                </tr>
              </tbody>
            </table>
        </div>
        <div class="span4">
          <pre>
schema({
  "id" : String,
  "things" : Array.of(
      {
          "id" : String,
          "title": String,
          "*url": String,
          "*author": String,
          "*license": String,
          "*tags": Array.of(String),
          "*thumbnailURL": String,
          "*description": String
      }
  ),
  "*trackers" : Array.of(
      {
          "url": String
      }
  )
})
          </pre>
        </div>
      </div>


      <hr>


      <div id="example" class="row-fluid section">
        <h2>Example</h2>
        <div class="span8">
          <pre>
{
  "description": "An Example Thing Tracker.",
  "things":[
      {
        "id":"cdebf011-e999-4dc5-b4c2-c4163f5584a0",
        "title": "strandbeest",
        "url": "http://garyhodgson.github.com/strandbeest",
        "author": "Gary Hodgson"
      },
      {
        "id":"f8736600-ff82-4a92-a5e9-fdeeeeb259fe",
        "title": "Mechanical Movement #27",
        "url": "http://garyhodgson.github.com/githubiverse-tst",
        "author": "Gary Hodgson",
        "license": "GPL3",
        "tags": ["mechanical movement", "fun"],
        "thumbnailUrl": "https://github.com/garyhodgson/githubiverse-tst/raw/master/img/test-jig.jpg",
        "description": "An implementation of movement #27 from &amp;quot;501 Mechanical Movements&amp;quot; by Henry T. Brown.\\n\\nThis is still a work in progress."
      }
  ],
  "trackers":[
    {
      "url":"http://reprap.development-tracker.info/thingtracker"
    }
  ]
}
          </pre>
        </div>

        <div class="span3">
          <p>To the left is an example tracker which would validate against the above schema.  It shows two things and one child-tracker.</p>
          <p>This example can also be found in <a href="example.tracker">raw json</a>, or displayed in the <a href="/thingtracker.net/tools/viewer/index.html?trackerURL=http://thingtracker.net/example.tracker">Thing Tracker Viewer</a>. </p>
        </div>

      </div>

      <div id="scalability" class="row-fluid section">
        <h2>Scalability</h2>
        <div class="span5">
          <p>To address the <a href="https://github.com/garyhodgson/thing-tracker-network/issues/13">issue of scalability</a> a tracker may be also be structured in a different way.  A small tracker with only a handful of things would be adequately covered by a single Tracker, however even a modest number of Things would cause the size of this object to become unwieldy.  The solution is to have the Tracker reference a separate JSON object for each Thing, each located in it's own resource.  This is accomplished by means of the "refUrl" attribute.</p>

          <p>To aid clients and services it is probably sensible to also provide some minimal metadata in the root tracker object, such as the title of the Thing, so they can retrieve some of the information without having to perform a request for each Thing in turn.</p>
        </div>

        <div class="span6">
          <h3>Example</h3>
          <h4>Root Tracker</h4>
  <pre>
  {
    "description": "An Example Thing Tracker with referenced Things.",
    "things":[
        {
          "title": "Mechanical Movement #27",
          "refUrl": "/thing/f8736600-ff82-4a92-a5e9-fdeeeeb259fe"
        }
    ],
    "trackers":[
      {
        "url":"http://reprap.development-tracker.info/thingtracker"
      }
    ]
  }
          </pre>
          <h4>Thing at url "/thing/f8736600-ff82-4a92-a5e9-fdeeeeb259fe"</h4>
          <pre>
  {
    "id":"f8736600-ff82-4a92-a5e9-fdeeeeb259fe",
    "title": "Mechanical Movement #27",
    "url": "http://garyhodgson.github.com/githubiverse-tst",
    "author": "Gary Hodgson",
    "license": "GPL3",
    "tags": ["mechanical movement", "fun"],
    "thumbnailUrl": "https://github.com/garyhodgson/githubiverse-tst/raw/master/img/test-jig.jpg",
    "description": "An implementation of movement #27 from &amp;quot;501 Mechanical Movements&amp;quot; by Henry T. Brown.\\n\\nThis is still a work in progress."
  }
            </pre>

        </div>
      </div>

      <hr>
      <div id="policy" class="row-fluid section">
        <h2>Policy</h2>
        <p>This section discusses how a tracker can notify others about how it processes data, and what others may expect from it.</p>

        <h4>Network Navigation Policy (or Tracker Recursion Policy)</h4>
        <p>Would tell how many, if any, levels the tracker navigates into the network when it builds its list of things.  For example, a tracker may decide to only take the things described directly in the child tracker, and ignore any further grand-child trackers.  Another tracker may wish to index as many things as it can, acting as a search engine, and so may navigate through all trackers it can find.</p>


      </div>


      <hr>
      <div id="processes" class="row-fluid section">
        <h2>Process</h2>
        <p>This section talks about the way trackers could operate.</p>


        <h4>Processing a tracker</h4>

    		<p>When a tracker service scans a new tracker it would usually read the list of things and add them to it's own cache of things.  It may also scan the list of trackers that the tracker holds and choose whether to delve further into the network. Each service implementer makes the choice whether to do this depending on their own needs.  Some may go all the way down through the network in order to build a comprehensive search index, whereas others may only wish to read one or two levels deep.  By adding the new tracker to their list they then allow any further service who uses their data to make this decision themselves.  In this way the data is truly propagated throughout the network without degradation.</p>


    		<h4>Optionally provided data</h4>

    		<p>A service which adds the things from a tracker will usually store the things so as to make them available for browsing.  An optional service is to make this cache of things also available alongside the tracker.  In this way each downstream service could choose to read this list of things instead of having to process the list of trackers itself.  Naturally the downstream service must decide whether the thing cache is suitable for its purposes. To this extent there is an aspect of trust involved, i.e. they must trust that the parent service has maintained the thing cache list and that it contains the data it requires.</p>

      </div>

      <hr>

      <footer>
        <small>&copy; 2012 Gary Hodgson.  Built with: <a href="http://twitter.github.com/bootstrap">Bootstrap</a>.&nbsp;&nbsp;Graphics by: <a href="http://forums.reprap.org/profile.php?0,15209">pdesigns</a>.</small>
      </footer>

    </div> <!-- /container -->

    <!-- Javascript -->

    <script src="https://code.jquery.com/jquery-1.8.1.min.js"> </script>
    <script src="js/bootstrap/bootstrap.min.js"></script>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

  </body>
</html>